DEF TEMP-TABLE T-CTAS
FIELD CODCTA AS CHAR FORMAT "X(10)" LABEL "CUENTA"
FIELD CLFAUX AS CHAR FORMAT "X(30)" LABEL "AUXILIAR"
INDEX IDX01 CODCTA.

FOR EACH PL-BOLE WHERE PL-BOLE.CODPLN = 1  AND
                       PL-BOLE.CODCAL = 1  .
    FIND T-CTAS WHERE T-CTAS.CODCTA = PL-BOLE.CODCTA
      NO-ERROR.
    IF NOT AVAIL T-CTAS THEN DO:
       CREATE T-CTAS.
       ASSIGN T-CTAS.CODCTA = PL-BOLE.CODCTA.
       FIND CB-CTAS WHERE CB-CTAS.CODCIA = 0 
                      AND CB-CTAS.CODCTA = PL-BOLE.CODCTA
                      NO-LOCK NO-ERROR.
       IF AVAIL CB-CTAS THEN 
          ASSIGN T-CTAS.CLFAUX = CB-CTAS.CLFAUX.
       ELSE
          ASSIGN T-CTAS.CLFAUX = "CUENTA NO REGISTRADA".
    END.
                             
    FIND T-CTAS WHERE T-CTAS.CODCTA = codcta-cntr
      NO-ERROR.                   
    IF NOT AVAIL T-CTAS THEN DO:
       CREATE T-CTAS.
       ASSIGN T-CTAS.CODCTA = PL-BOLE.CODCTA-CNTR.
       FIND CB-CTAS WHERE CB-CTAS.CODCIA = 0 
                      AND CB-CTAS.CODCTA = PL-BOLE.CODCTA-CNTR
                      NO-LOCK NO-ERROR.
       IF AVAIL CB-CTAS THEN 
          ASSIGN T-CTAS.CLFAUX = CB-CTAS.CLFAUX.
       ELSE
          ASSIGN T-CTAS.CLFAUX = "CUENTA NO REGISTRADA".
    END.
  
                       
                       
END.                       
OUTPUT TO PRINTER.
FOR EACH T-CTAS :

    DISPLAY T-CTAS.CODCTA T-CTAS.CLFAUX.
END.              
OUTPUT CLOSE.


