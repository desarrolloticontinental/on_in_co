DEFINE NEW GLOBAL SHARED VARIABLE s-acceso-semaforos AS LOG.
DEFINE NEW GLOBAL SHARED VAR s-acceso-total  AS LOG INIT NO NO-UNDO.
DEFINE NEW GLOBAL SHARED VAR s-acceso-total2 AS LOG INIT NO NO-UNDO.
DEFINE NEW GLOBAL SHARED VAR s-adm-new-record AS CHAR.

DEFINE NEW GLOBAL SHARED VARIABLE s-CanalVenta AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-Tipo-Abastecimiento AS CHAR INIT "NORMAL".
DEF NEW GLOBAL SHARED VAR s-ControlTurno AS LOG.
DEF NEW GLOBAL SHARED VAR s-ControlPromotor AS LOG.
DEF NEW GLOBAL SHARED VAR s-VentaUnica AS LOG.
DEF NEW GLOBAL SHARED VAR s-Computer-Name AS CHAR.
DEF NEW GLOBAL SHARED VAR s-promotor AS CHAR.
DEF NEW GLOBAL SHARED VAR s-permiso-anulacion AS LOG.
DEF NEW GLOBAL SHARED TEMP-TABLE t-logtabla NO-UNDO LIKE logtabla.
DEFINE NEW GLOBAL SHARED VARIABLE pGrupo     AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-task-no  AS INT.
DEFINE NEW GLOBAL SHARED VARIABLE lh_Handle  AS HANDLE.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODCIA   AS INTEGER INIT 001.
DEFINE NEW GLOBAL SHARED VARIABLE S-NOMCIA   AS CHAR INIT "CONTINENTAL S.A.C".
DEFINE NEW GLOBAL SHARED VARIABLE S-USER-ID  AS CHAR INIT "ADMIN".
DEFINE NEW GLOBAL SHARED VARIABLE S-CODDOC   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-NRODOC   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODREF   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-NROREF   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODDOC-2 AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODDIV   AS CHAR INIT "00000".
DEFINE NEW GLOBAL SHARED VARIABLE pCODDIV    AS CHAR INIT "00000".
DEFINE NEW GLOBAL SHARED VARIABLE S-NROSER   AS INTEGER.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODVEN   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODALM   AS CHAR INIT '11'.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODMOV   AS INTEGER.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODMON   AS INTEGER.
DEFINE NEW GLOBAL SHARED VARIABLE S-DESALM   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODCLI   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-TIPVTA   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-TPOPED   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-TPOMARCO AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-NROTAR   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CNDVTA   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-FMAPGO   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CMPBNTE  AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-IMPFLE   AS DECIMAL.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODMAT   AS CHAR INIT '000150'.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODFAM   AS CHAR INIT '000'.
DEFINE NEW GLOBAL SHARED VARIABLE S-SUBFAM   AS CHAR INIT '001'.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODIGV   AS INTEGER INIT 1.
DEFINE NEW GLOBAL SHARED VARIABLE S-TPOPED   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-LisNiv   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-PTOVTA   AS INT.
DEFINE NEW GLOBAL SHARED VARIABLE S-IMPTOT   AS DEC.
DEFINE NEW GLOBAL SHARED VARIABLE S-NROCOT   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-NROPED   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-PRECOT   AS LOG.
DEFINE NEW GLOBAL SHARED VARIABLE S-PUNTOS   AS INTEGER.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODACTI  AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-FLGEST   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-FLGSIT   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-CredCard AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE s-OpSys    AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE s-TipMat   AS CHARACTER INIT 'VTA'.
DEFINE NEW GLOBAL SHARED VARIABLE s-Tabla    AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE s-Tabla-1  AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE s-Codigo    AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE s-Rowid    AS ROWID.
DEFINE NEW GLOBAL SHARED VARIABLE S-TpoFac   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-import-ibc AS LOG INIT NO.
DEFINE NEW GLOBAL SHARED VARIABLE s-import-b2b AS LOG INIT NO.
DEFINE NEW GLOBAL SHARED VARIABLE s-import-cissac AS LOG INIT NO.
DEFINE NEW GLOBAL SHARED VARIABLE s-PorIgv LIKE Ccbcdocu.PorIgv.
DEFINE NEW GLOBAL SHARED VARIABLE s-codbko   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-tarjeta   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODPRO   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE P-CODPRO   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE fathWH AS HANDLE NO-UNDO.
DEFINE NEW GLOBAL SHARED VARIABLE s-DNIClie  AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-NroVale  AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-ListaTerceros AS LOG.
DEFINE NEW GLOBAL SHARED VARIABLE s-Sunat-Activo AS LOG.
DEFINE NEW GLOBAL SHARED VARIABLE s-TpoPed AS CHAR.

DEFINE new global SHARED VARIABLE   CB-CODCIA   AS INTEGER    init 0.
DEFINE new global SHARED VARIABLE   PV-CODCIA   AS INTEGER    init 0.
DEFINE new global SHARED VARIABLE   CL-CODCIA   AS INTEGER    init 0 .
DEFINE new global SHARED VARIABLE   CB-NIVELES  AS CHAR       init "2,3,5".
DEFINE new global SHARED VARIABLE   CB-MAXNIVEL AS INTEGER    init 8.


/* VARIABLES PARA COTIZACIONES */
DEF NEW GLOBAL SHARED VAR s-DiasVtoCot LIKE GN-DIVI.DiasVtoCot.
DEF NEW GLOBAL SHARED VAR s-DiasVtoPed LIKE GN-DIVI.DiasVtoPed.
DEF NEW GLOBAL SHARED VAR s-DiasVtoO_D LIKE GN-DIVI.DiasVtoO_D.
DEF NEW GLOBAL SHARED VAR s-DiasAmpCot LIKE GN-DIVI.DiasAmpCot.
DEF NEW GLOBAL SHARED VAR s-FlgEmpaque LIKE GN-DIVI.FlgEmpaque.
DEF NEW GLOBAL SHARED VAR s-FlgMinVenta LIKE GN-DIVI.FlgMinVenta.
DEF NEW GLOBAL SHARED VAR s-FlgRotacion LIKE GN-DIVI.FlgRotacion.
DEF NEW GLOBAL SHARED VAR s-FlgPicking LIKE GN-DIVI.FlgPicking.
DEF NEW GLOBAL SHARED VAR s-FlgBarras LIKE GN-DIVI.FlgBarras.
DEF NEW GLOBAL SHARED VAR s-VentaMayorista LIKE GN-DIVI.VentaMayorista.
DEF NEW GLOBAL SHARED VAR s-VentaMinorista LIKE GN-DIVI.VentaMinorista.
DEF NEW GLOBAL SHARED VAR s-Almacenes AS CHAR.
DEF NEW GLOBAL SHARED VAR s-FlgIgv AS LOG INIT TRUE.
DEF NEW GLOBAL SHARED VAR s-FlgTipoVenta LIKE GN-DIVI.FlgPreVta.
DEF NEW GLOBAL SHARED VAR s-MinimoPesoDia AS DEC.
DEF NEW GLOBAL SHARED VAR s-MaximaVarPeso AS DEC.
DEF NEW GLOBAL SHARED VAR s-MinimoDiasDespacho AS DEC.
DEF NEW GLOBAL SHARED VAR s-ClientesVIP AS LOG.

DEFINE NEW GLOBAL SHARED VAR S-SerGui AS INTEGER.
DEFINE NEW GLOBAL SHARED VAR S-SerFac AS INTEGER.
DEFINE NEW GLOBAL SHARED VAR S-SerBol AS INTEGER.
DEFINE NEW GLOBAL SHARED VAR pCodAlm AS CHAR.
DEFINE NEW GLOBAL SHARED VAR p-monto  AS DECIMAL.

DEFINE NEW GLOBAL SHARED TEMP-TABLE T-CPEDI NO-UNDO LIKE FacCPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE ITEM   LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE ITEM-LE LIKE FacDPedi.  /* Lista Express */
DEFINE NEW GLOBAL SHARED TEMP-TABLE ITEM-2 LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE ITEM-3 LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE DETA LIKE CcbDDocu.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDI LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDI-1 LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDI-2 LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDI-3 NO-UNDO LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDI2  NO-UNDO LIKE VtaDDocu.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-DPEDI LIKE FacDPedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDM LIKE FacDPedm.
DEFINE NEW GLOBAL SHARED TEMP-TABLE DMOV LIKE almdmov.    
DEFINE NEW GLOBAL SHARED TEMP-TABLE LIQU LIKE FacDLiqu.    
DEFINE NEW GLOBAL SHARED TEMP-TABLE t-prev LIKE cb-dmov.
DEFINE NEW GLOBAL SHARED TEMP-TABLE DRECL LIKE VtaDRecl.
DEFINE NEW GLOBAL SHARED TEMP-TABLE DOCU LIKE Ccbcdocu.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-FacTabla LIKE FacTabla.
DEFINE NEW GLOBAL SHARED TEMP-TABLE Promocion LIKE Vtadtabla.
DEFINE NEW GLOBAL SHARED TEMP-TABLE COTIZACION LIKE Faccpedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE ORDENES LIKE Faccpedi.
DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDIDO LIKE Faccpedi.

DEFINE NEW GLOBAL SHARED TEMP-TABLE DATOS  NO-UNDO  LIKE AlmCatVtaD
    Fields ImpUnit AS DEC
    Fields PreUniRef AS DEC
    INDEX Llave01 AS PRIMARY CodCia CodDiv CodPro NroPag NroSec
    INDEX Llave02 CodCia CodPro NroPag CodMat.

DEFINE NEW GLOBAL SHARED TEMP-TABLE T-MATPRO LIKE almmmatg
    FIELD PreUni AS DEC
    FIELD CanPed AS DE
    FIELD PorDto AS DEC EXTENT 4
    FIELD ClfCli AS CHAR
    FIELD ImpTot AS DEC
    FIELD StkAct AS DEC.
DEFINE NEW GLOBAL SHARED TEMP-TABLE t-wmigrv LIKE wmigrv.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-DMatriz NO-UNDO LIKE VtaDMatriz.

/* DEFINE NEW GLOBAL SHARED TEMP-TABLE PEDM LIKE FacDPedm */
/*     INDEX Llave01 CodCia CodDoc NroPed NroItm.         */

DEFINE NEW GLOBAL SHARED VARIABLE input-var-1 AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE input-var-2 AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE input-var-3 AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE input-var-4 AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE output-var-1 AS ROWID.
DEFINE NEW GLOBAL SHARED VARIABLE output-var-2 AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE output-var-3 AS CHARACTER.
DEFINE NEW GLOBAL SHARED VARIABLE output-var-4 LIKE FacDPedi.PreUni.
DEFINE NEW GLOBAL SHARED VARIABLE output-var-5 LIKE FacDPedi.PorDto.

DEFINE NEW GLOBAL SHARED TEMP-TABLE T-CcbDDocu LIKE CcbDDocu.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-CcbCCaja LIKE CcbCCaja.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-CcbDCaja LIKE CcbDCaja.

DEFINE NEW GLOBAL SHARED VARIABLE S-TIPO     AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-SERCJA   AS INT.
DEFINE NEW GLOBAL SHARED VARIABLE S-CODTER   AS CHAR.      
DEFINE NEW GLOBAL SHARED VARIABLE S-PTOVTA   AS INT.
DEFINE NEW GLOBAL SHARED VARIABLE C-CODDOC   AS CHAR INITIAL "FAC".

DEFINE NEW GLOBAL SHARED VARIABLE C-clfCli   AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE S-TPOCMB AS DECIMAL.  
DEFINE NEW GLOBAL SHARED VARIABLE S-PORDTO AS DECIMAL.  

DEFINE NEW GLOBAL SHARED VARIABLE S-DTOMAX AS DECIMAL.  
DEFINE NEW GLOBAL SHARED VARIABLE S-DTOMAX-Propios AS DECIMAL.  
DEFINE NEW GLOBAL SHARED VARIABLE S-DTOMAX-Terceros AS DECIMAL.  

DEFINE NEW GLOBAL SHARED VARIABLE s-nivel AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE X-NRODEC AS INTEGER INIT 2.
DEFINE NEW GLOBAL SHARED VARIABLE S-NRODEC AS INTEGER INIT 2.

/* Se usa para las retenciones */
DEFINE NEW GLOBAL SHARED TEMP-TABLE wrk_ret NO-UNDO
    FIELDS CodCia LIKE CcbDCaja.CodCia
    FIELDS CodCli LIKE CcbCDocu.CodCli
    FIELDS CodDoc LIKE CcbCDocu.CodDoc COLUMN-LABEL "Tipo  "
    FIELDS NroDoc LIKE CcbCDocu.NroDoc COLUMN-LABEL "Documento " FORMAT "x(10)"
    FIELDS CodRef LIKE CcbDCaja.CodRef
    FIELDS NroRef LIKE CcbDCaja.NroRef
    FIELDS FchDoc LIKE CcbCDocu.FchDoc COLUMN-LABEL "    Fecha    !    Emisión    "
    FIELDS FchVto LIKE CcbCDocu.FchVto COLUMN-LABEL "    Fecha    ! Vencimiento"
    FIELDS CodMon AS CHARACTER COLUMN-LABEL "Moneda" FORMAT "x(3)"
    FIELDS ImpTot LIKE CcbDCaja.ImpTot COLUMN-LABEL "Importe Total"
    FIELDS ImpRet LIKE CcbDCaja.ImpTot COLUMN-LABEL "Importe!a Retener"
    FIELDS FchRet AS DATE
    FIELDS NroRet AS CHARACTER
    INDEX ind01 CodRef NroRef.
DEFINE NEW GLOBAL SHARED TEMP-TABLE wrk_dcaja NO-UNDO LIKE ccbdcaja.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-TICKETS NO-UNDO LIKE Vtadtickets.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-VALES NO-UNDO LIKE VtaVales.

DEFINE NEW GLOBAL SHARED TEMP-TABLE CDOCU LIKE VtaCDocu.
DEFINE NEW GLOBAL SHARED TEMP-TABLE DDOCU LIKE VtaDDocu.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-MATG LIKE almmmatg.
    /*INDEX Idx00 AS PRIMARY CodMat FchPrmD.*/
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-TABLA LIKE VtaTabla.
DEFINE NEW GLOBAL SHARED VAR s-nivel-acceso AS INT INIT 0 NO-UNDO.

/* Variables para Distribucion */
DEFINE NEW GLOBAL SHARED VAR ltxtDesde AS DATE.
DEFINE NEW GLOBAL SHARED VAR ltxtHasta AS DATE.
DEFINE NEW GLOBAL SHARED VAR lChequeados AS LOGICAL.
DEFINE NEW GLOBAL SHARED VAR pSoloImpresos AS LOGICAL.
DEFINE NEW GLOBAL SHARED VAR lMsgRetorno AS CHAR.
DEFINE NEW GLOBAL SHARED VAR s-busqueda AS CHAR.
DEFINE NEW GLOBAL SHARED VAR i-tipo-busqueda AS INT.
DEFINE NEW GLOBAL SHARED VAR i-dias AS INT.
DEFINE NEW GLOBAL SHARED VAR pImpresos AS INT.
/* Variables Venta Mostrador Chiclayo */
DEFINE NEW GLOBAL SHARED VAR s-Genera-Orden AS LOG NO-UNDO.
/* Supermercados Peruanos */
DEFINE NEW GLOBAL SHARED VAR pOrdenCompra AS CHAR INIT ''.

DEFINE NEW GLOBAL SHARED TEMP-TABLE T-FILE-01 NO-UNDO LIKE w-report.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-FILE-02 NO-UNDO LIKE w-report.
DEFINE NEW GLOBAL SHARED TEMP-TABLE T-FILE-03 NO-UNDO LIKE w-report.

DEFINE NEW GLOBAL SHARED VARIABLE S-TPOPED2   AS CHAR.   /* Para ValesUtilex */

DEF NEW GLOBAL SHARED VAR s-cndvta-validos AS CHAR.
DEFINE NEW GLOBAL SHARED VARIABLE s-texto  AS LONGCHAR.  /* XML Sentinel */
DEFINE NEW GLOBAL SHARED VARIABLE s-codcliente  AS CHAR.  /* XML Sentinel */

DEFINE NEW GLOBAL SHARED VAR s-nro-orden AS CHAR.

DEFINE NEW GLOBAL SHARED VAR x-pendientes-impresion AS INT.
DEFINE NEW GLOBAL SHARED VAR x-pickeado AS INT.
DEFINE NEW GLOBAL SHARED VAR s-nro-orden AS CHAR.
DEFINE NEW GLOBAL SHARED VAR S-CodigoMatriz AS CHAR.
